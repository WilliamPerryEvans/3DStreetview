{% extends 'admin/model/edit.html' %}
{% block body %}
    <div id="flash"></div>
    <input type="hidden" id="mesh_id" value="{{model.id}}" />

{% block edit_form %}
    <div class="container">
        <h4>Mesh generation for {{ model }}</h4>
        <div class="shadow-sm p-3 mb-5 bg-white rounded">
            <div class="row">
                <div class="col">
                    <h5>Select photos</h5>
                </div>
                <div class="col">
                    <h5>OpenDroneMap task</h5>
                    <div class="form-group ">
                        <label for="odm_config" class="control-label">Server</label>
                        <select class="form-control" data-role="select2" id="odm_config" name="odm_config" required>
                        {% for config in odm_configs %}
                            <option value="{{ config.id }}">{{ config }}</option>
                        {% endfor %}
                        </select>
                        <div class="btn-toolbar">
                            <button type="button" id="project_button" class="btn btn-primary mt-2" onclick="get_odm_projects()">Connect</button>
                        </div>
                    </div>
                    <div class="form-group ">
                        <label for="odm_project" class="control-label">Project</label>
                        <select class="form-control" data-role="select2" id="odm_project" name="odm_project" required>
                        </select>
                        <div class="btn-toolbar">
                            <button type="button" id="task_button" disabled="true" class="btn btn-primary mt-2" onclick="get_odm_tasks()">Select</button>
                        </div>
                    </div>
                    <div class="form-group ">
                        <label for="odm_task" class="control-label">Task</label>
                        <select class="form-control" data-role="select2" id="odm_task" name="odm_task" required>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% endblock %}
{% block tail %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/mesh/edit.js') }}"></script>
{% endblock %}